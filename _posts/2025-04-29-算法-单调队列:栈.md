---
layout:     post
title:      å•è°ƒé˜Ÿåˆ—/å•è°ƒæ ˆ
subtitle:   å•è°ƒé˜Ÿåˆ—/å•è°ƒæ ˆ
date:       2025-04-29
author:     å®‹é¸¿å ƒ
header-img: img/post-bg-debug.png
catalog: true
tags:
    - ç®—æ³•é¢˜
    - å•è°ƒæ ˆ
    - å•è°ƒé˜Ÿåˆ—
---

# å•è°ƒé˜Ÿåˆ—/å•è°ƒæ ˆ

## **ğŸ§® å•è°ƒé˜Ÿåˆ—ç›¸å…³é¢˜ç›®ï¼ˆMonotonic Queueï¼‰**

**å•è°ƒé˜Ÿåˆ—ï¼ˆMonotonic Queueï¼‰** æ˜¯ä¸€ç§ç‰¹æ®Šçš„åŒç«¯é˜Ÿåˆ—ï¼ˆdequeï¼‰ï¼Œ**ä¿æŒå…¶ä¸­çš„å…ƒç´ å•è°ƒé€’å¢æˆ–é€’å‡**ï¼Œå¹¶ç”¨äºåœ¨æ»‘åŠ¨çª—å£ç±»é—®é¢˜ä¸­å¿«é€Ÿæ‰¾åˆ°**æœ€å¤§å€¼æˆ–æœ€å°å€¼**ã€‚

### **å•è°ƒé€’å‡é˜Ÿåˆ—ï¼ˆå¸¸ç”¨äºæ‰¾æœ€å¤§å€¼ï¼‰**

æ¯æ¬¡æ–°å…ƒç´ è¿›æ¥æ—¶ï¼š

1. **æŠŠé˜Ÿå°¾æ‰€æœ‰å°äºæ–°å…ƒç´ çš„å€¼å¼¹å‡º**ï¼ˆå› ä¸ºå®ƒä»¬ä»¥åä¸ä¼šå†æˆä¸ºæœ€å¤§å€¼ï¼‰
2. ç„¶åå†å°†å½“å‰å…ƒç´ åŠ å…¥é˜Ÿå°¾
3. çª—å£æ»‘å‡ºæ—¶ï¼Œå¦‚æœé˜Ÿé¦–å…ƒç´ å·²ä¸åœ¨çª—å£èŒƒå›´ï¼Œå°±å¼¹å‡ºå®ƒ

```python
class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
        q = deque()
        ans = []
        left, right = 0, 0
        for right in range(len(nums)):
            while q and nums[q[-1]] < nums[right]:
                q.pop()
            q.append(right)
            if right >= k - 1:
                ans.append(nums[q[0]])
                if q[0] <= left:
                    q.popleft()
                left += 1
                
        return ans
```

### **å•è°ƒé€’å¢é˜Ÿåˆ—ï¼ˆå¸¸ç”¨äºæ‰¾æœ€å°å€¼ï¼‰**

1. **239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/sliding-window-maximum/

   ä½¿ç”¨å•è°ƒé€’å‡é˜Ÿåˆ—ç»´æŠ¤å½“å‰çª—å£å†…çš„æœ€å¤§å€¼ã€‚

2. **1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/

   éœ€è¦åŒæ—¶ç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¯ä½¿ç”¨ä¸¤ä¸ªå•è°ƒé˜Ÿåˆ—ã€‚

3. **862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/

   ä½¿ç”¨å‰ç¼€å’Œå’Œå•è°ƒé˜Ÿåˆ—ä¼˜åŒ–æ»‘åŠ¨çª—å£ã€‚

## **ğŸ§± å•è°ƒæ ˆç›¸å…³é¢˜ç›®ï¼ˆMonotonic Stackï¼‰**

```python
def next_greater_elements(nums):
    res = [-1] * len(nums)
    stack = []  # å­˜ç´¢å¼•ï¼ˆæˆ–å…ƒç´ ï¼‰

    for i in range(len(nums)):
        while stack and nums[i] > nums[stack[-1]]:
            idx = stack.pop()
            res[idx] = nums[i]
        stack.append(i)

    return res
```

### èƒ½çœ‹åˆ°çš„ä¸‹ä¸€ä¸ªäºº

ç¬¬iä¸ªäººèƒ½çœ‹åˆ°çš„æ˜¯ï¼Œåé¢æœ€é«˜äººä¹‹å‰çš„å•å¢åºåˆ—ã€‚ä¸€ä¸ªäººèƒ½ **çœ‹åˆ°** ä»–å³è¾¹å¦ä¸€ä¸ªäººçš„æ¡ä»¶æ˜¯è¿™ä¸¤äººä¹‹é—´çš„æ‰€æœ‰äººéƒ½æ¯”ä»–ä»¬ä¸¤äºº **çŸ®** ã€‚æ›´æ­£å¼çš„ï¼Œç¬¬ `i` ä¸ªäººèƒ½çœ‹åˆ°ç¬¬ `j` ä¸ªäººçš„æ¡ä»¶æ˜¯ `i < j` ä¸” `min(heights[i], heights[j]) > max(heights[i+1], heights[i+2], ..., heights[j-1])`. ä¹Ÿå°±æ˜¯è¯´ï¼Œ[1,2,3]çš„è¯ï¼Œç¬¬ä¸€ä¸ªäººçœ‹ä¸åˆ°ç¬¬ä¸‰ä¸ªäºº

```python
def canSeePersonCount(self, heights: List[int]) -> List[int]:
  					answer = [0] * len(heights)
            left, right = 0, 0
            stack = []
            for right in range(len(heights)):
                # å¸¸è§„å•è°ƒæ ˆçš„æ¨¡æ¿
                while stack and heights[stack[-1]] < heights[right]:
                    idx = stack.pop() # å‡ºç°äº†æ¯” idx æ›´é«˜çš„äºº
                    answer[idx] += 1
                # å¤šäº†ä¸€ä¸ªæ¯”stack[-1] æ›´é«˜çš„äºº
                if stack:
                    answer[stack[-1]] += 1
                stack.append(right)
            return answer
```



1. **84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/largest-rectangle-in-histogram/

   ç»å…¸çš„å•è°ƒæ ˆåº”ç”¨ï¼Œå¯»æ‰¾æ¯ä¸ªæŸ±å­çš„å·¦å³è¾¹ç•Œã€‚

2. **85. æœ€å¤§çŸ©å½¢**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/maximal-rectangle/

   åŸºäºä¸Šä¸€é¢˜ï¼Œå°†æ¯ä¸€è¡Œçœ‹ä½œç›´æ–¹å›¾ã€‚

3. **496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/next-greater-element-i/

   ä½¿ç”¨å•è°ƒæ ˆå¯»æ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ã€‚

4. **503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/next-greater-element-ii/

   å¾ªç¯æ•°ç»„ç‰ˆæœ¬çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ é—®é¢˜ã€‚

5. **901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦**

   é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode.cn/problems/online-stock-span/

   ä½¿ç”¨å•è°ƒæ ˆè®¡ç®—è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦ã€‚